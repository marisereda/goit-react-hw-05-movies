"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[381],{338:function(e,r,n){n.d(r,{Z:function(){return b}});var t,a,i,o,s=n(4476),u=n(1087),c=n(7689),l=n(168),p=n(82),h=p.ZP.li(t||(t=(0,l.Z)(["\n  border-radius: ",";\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n  transform: scale(1);\n  transition: ",";\n\n  :hover {\n    transform: scale(1.03);\n  }\n"])),(function(e){return e.theme.radii.primary}),(function(e){return e.theme.shadows.primary}),(function(e){return e.theme.styles.transition})),f=p.ZP.img(a||(a=(0,l.Z)(["\n  width: 100%;\n  height: auto;\n  object-fit: cover;\n"]))),d=p.ZP.p(i||(i=(0,l.Z)(["\n  display: inline-block;\n  font-size: ",";\n  font-weight: bold;\n"])),(function(e){return e.theme.fontSizes.title})),m=p.ZP.p(o||(o=(0,l.Z)(["\n  display: inline-block;\n  margin-left: auto;\n  padding-left: ","px;\n  padding-right: ","px;\n  padding-bottom: ","px;\n  padding-top: ","px;\n  font-size: ",";\n  font-weight: bold;\n  color: white;\n  border-radius: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.space[4]}),(function(e){return e.theme.space[4]}),(function(e){return e.theme.space[2]}),(function(e){return e.theme.space[2]}),(function(e){return e.theme.fontSizes.title}),(function(e){return e.theme.radii.primary}),(function(e){return e.theme.colors.bgDark})),g=n(184),v=function(e){var r=e.id,n=e.title,t=e.posterPath,a=e.votes,i=(0,c.TH)(),o="/movies"===i.pathname?"".concat(r):"movies/".concat(r);return(0,g.jsx)(h,{children:(0,g.jsxs)(u.rU,{to:o,state:{from:"".concat(i.pathname+i.search)},children:[(0,g.jsx)(f,{src:"https://image.tmdb.org/t/p/w500"+t,alt:"Poster ".concat(n)}),(0,g.jsxs)(s.x,{display:"flex",height:"titleBlock",alignItems:"center",justifyContent:"space-between",padding:4,as:"div",children:[(0,g.jsx)(d,{children:n}),(0,g.jsx)(m,{children:a.toFixed(1)})]})]})})},b=function(e){var r=e.movies;return(0,g.jsx)(s.x,{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridGap:5,as:"ul",children:r.map((function(e){var r=e.id,n=e.title,t=e.poster_path,a=e.vote_average;return(0,g.jsx)(v,{id:r,title:n,posterPath:t,votes:a},r)}))})}},381:function(e,r,n){n.r(r),n.d(r,{default:function(){return C}});var t,a,i,o=n(5861),s=n(9439),u=n(4687),c=n.n(u),l=n(2791),p=n(1087),h=n(7596),f=n(4476),d=n(338),m=n(7822),g=n(8494),v=n(3271),b=n(184),x=function(e){var r=e.onSearchSubmit,n=e.value,t=(0,l.useState)(""),a=(0,s.Z)(t,2),i=a[0],o=a[1];(0,l.useEffect)((function(){n&&o(n)}),[n]);return(0,b.jsx)(f.x,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"searchBar",paddingTop:6,paddingBottom:6,color:"textPrimary",as:"div",children:(0,b.jsxs)(k,{onSubmit:function(e){e.preventDefault(),r(i)},children:[(0,b.jsx)(Z,{type:"submit",children:(0,b.jsx)(g.Yfv,{size:v.r.sizes.iconSearch})}),(0,b.jsx)(j,{type:"text","aria-label":"search",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){o(e.target.value)},value:i})]})})},w=n(168),y=n(82),k=y.ZP.form(t||(t=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: ",";\n  border-radius: ",";\n  border: ",";\n  overflow: hidden;\n"])),(function(e){return e.theme.sizes.form}),(function(e){return e.theme.radii.primary}),(function(e){return e.theme.borders.primary})),Z=y.ZP.button(a||(a=(0,w.Z)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n  border: 0;\n  color: ",";\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: ",";\n  cursor: pointer;\n  outline: none;\n\n  :hover {\n    color: white;\n  }\n"])),(function(e){return e.theme.sizes.buttonIcon}),(function(e){return e.theme.sizes.buttonIcon}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.bgDark})),j=y.ZP.input(i||(i=(0,w.Z)(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  padding: ","px;\n  font: inherit;\n  font-size: ",";\n  border: none;\n  outline: none;\n"])),(function(e){return e.theme.space[3]}),(function(e){return e.theme.fontSizes.input})),T=n(9630),E={idle:0,pending:1,resolved:2,rejected:3},C=function(){var e=(0,l.useState)([]),r=(0,s.Z)(e,2),n=r[0],t=r[1],a=(0,l.useState)(E.movieGallery),i=(0,s.Z)(a,2),u=i[0],g=i[1],v=(0,p.lr)(),w=(0,s.Z)(v,2),y=w[0],k=w[1];(0,l.useEffect)((function(){var e=new AbortController,r=e.signal,n=y.get("query");if(t([]),n)return function(){a.apply(this,arguments)}(),function(){e.abort()};function a(){return(a=(0,o.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(E.pending),e.next=4,(0,T.XT)({search:n.trim(),signal:r});case 4:a=e.sent,g(E.resolved),t(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),g(E.rejected),(0,h.Am)(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}}),[y]);return(0,b.jsx)(f.x,{backgroundColor:"bgMain",minHeight:"100vh",as:"main",children:(0,b.jsxs)(f.x,{width:"container",marginLeft:"auto",marginRight:"auto",paddingTop:4,paddingBottom:5,paddingLeft:3,paddingRight:3,children:[(0,b.jsx)(x,{onSearchSubmit:function(e){k(e?{query:e.trim()}:{})},value:y.get("query")}),u===E.pending&&(0,b.jsx)(m.Z,{}),(0,b.jsx)(d.Z,{movies:n})]})})}},9630:function(e,r,n){n.d(r,{M1:function(){return u},TP:function(){return l},XT:function(){return h},Jh:function(){return d},Df:function(){return g}});var t=n(5861),a=n(4687),i=n.n(a),o=n(2388),s=n(2768);function u(e){return c.apply(this,arguments)}function c(){return(c=(0,t.Z)(i().mark((function e(r){var n,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,t=r.signal,e.prev=1,e.next=4,o.Z.get("movie/".concat(n,"/credits"),{signal:t});case 4:if(a=e.sent){e.next=7;break}throw Error("We are sorry! There is no cast information about the movie");case 7:return e.abrupt("return",a.data.cast);case 10:if(e.prev=10,e.t0=e.catch(1),"CanceledError"!==e.t0.name){e.next=14;break}return e.abrupt("return",null);case 14:if(!e.t0.response&&!e.t0.request){e.next=18;break}throw Error("There is no server response. Try later again!");case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,t.Z)(i().mark((function e(r){var n,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,t=r.signal,e.prev=1,e.next=4,o.Z.get("movie/".concat(n),{signal:t});case 4:if(a=e.sent){e.next=7;break}throw Error("We are sorry! There is no detailed information about the movie");case 7:return e.abrupt("return",a.data);case 10:if(e.prev=10,e.t0=e.catch(1),"CanceledError"!==e.t0.name){e.next=14;break}return e.abrupt("return",null);case 14:if(!e.t0.response&&!e.t0.request){e.next=18;break}throw Error("There is no server response. Try later again!");case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=(0,t.Z)(i().mark((function e(r){var n,t,a,s,u,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.page,t=void 0===n?1:n,a=r.search,s=void 0===a?"":a,u=r.signal,c={page:t,query:s},e.prev=2,e.next=5,o.Z.get("search/movie",{params:c,signal:u});case 5:if(0!==(l=e.sent).data.results.length){e.next=8;break}throw Error("There is no any match on your request!");case 8:return e.abrupt("return",l.data.results);case 11:if(e.prev=11,e.t0=e.catch(2),"CanceledError"!==e.t0.name){e.next=15;break}return e.abrupt("return",[]);case 15:if(!e.t0.response&&!e.t0.request){e.next=19;break}throw Error("There is no server response. Try later again!");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,t.Z)(i().mark((function e(r){var n,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,t=r.signal,e.prev=1,e.next=4,o.Z.get("movie/".concat(n,"/reviews"),{signal:t});case 4:if(a=e.sent){e.next=7;break}throw Error("There is no cast information about the movie");case 7:return e.abrupt("return",a.data.results);case 10:if(e.prev=10,e.t0=e.catch(1),"CanceledError"!==e.t0.name){e.next=14;break}return e.abrupt("return",null);case 14:if(!e.t0.response&&!e.t0.request){e.next=18;break}throw Error("There is no server response. Try later again!");case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=(0,t.Z)(i().mark((function e(r){var n,t,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.signal,t=r.page,a={page:void 0===t?1:t},e.prev=2,e.next=5,o.Z.get("trending/movie/day",{params:a,signal:n});case 5:if(0!==(s=e.sent).data.results.length){e.next=8;break}throw Error("There is no any match on your request!");case 8:return e.abrupt("return",s.data.results);case 11:if(e.prev=11,e.t0=e.catch(2),"CanceledError"!==e.t0.name){e.next=15;break}return e.abrupt("return",[]);case 15:if(!e.t0.response&&!e.t0.request){e.next=19;break}throw Error("There is no server response. Try later again!");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}o.Z.defaults.baseURL=s._n,o.Z.defaults.headers.common.Authorization="Bearer ".concat(s.E0)}}]);
//# sourceMappingURL=381.faff7826.chunk.js.map