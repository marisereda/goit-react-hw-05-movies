{"version":3,"file":"static/js/918.03df1c99.chunk.js","mappings":"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","sources":["components/MovieDetails/MovieDetails.styled.js","components/MovieDetails/MovieDetails.jsx","utils/movieAPI.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport { ImArrowLeft2 } from 'react-icons/im';\n\nexport const Image = styled.img`\n  border-radius: ${p => p.theme.radii.textBlock};\n  width: 500px;\n  height: auto;\n`;\n\nexport const Title = styled.h2`\n  margin-bottom: ${p => p.theme.space[5]}px;\n  text-transform: uppercase;\n  color: ${p => p.theme.colors.title}; ;\n`;\n\nexport const SubTitle = styled.h3`\n  margin-bottom: ${p => p.theme.space[4]}px;\n  margin-right: ${p => p.theme.space[4]}px;\n  color: ${p => p.theme.colors.subTitle};\n`;\n\nexport const Paragraph = styled.p`\n  margin-bottom: ${p => p.theme.space[4]}px;\n  color: ${p => p.theme.colors.subTitle};\n  font-size: ${p => p.theme.fontSizes.text};\n`;\n\nexport const Votes = styled.span`\n  display: inline-block;\n  margin-left: ${p => p.theme.space[4]}px;\n  padding-left: ${p => p.theme.space[4]}px;\n  padding-right: ${p => p.theme.space[4]}px;\n  padding-bottom: ${p => p.theme.space[2]}px;\n  padding-top: ${p => p.theme.space[2]}px;\n  font-size: ${p => p.theme.fontSizes.title};\n  font-weight: bold;\n  color: white;\n  border-radius: ${p => p.theme.radii.primary};\n  background-color: ${p => p.theme.colors.bgDark};\n`;\n\nexport const Item = styled.li`\n  margin-bottom: ${p => p.theme.space[4]}px;\n  text-align: right;\n`;\n\nexport const LinkBack = styled(NavLink)`\n  display: block;\n  margin-bottom: ${p => p.theme.space[4]}px;\n  padding: ${p => p.theme.space[3]}px;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n`;\n\nexport const Icon = styled(ImArrowLeft2)`\n  width: ${p => p.theme.sizes.backIcon};\n  height: ${p => p.theme.sizes.backIcon};\n  color: ${p => p.theme.colors.bgDark};\n`;\n","import { useEffect, useState, Suspense, useRef } from 'react';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getMovieDetails } from 'utils';\nimport { Box } from 'components/Box';\nimport Loader from 'components/Loader';\nimport { Link } from 'components/Link';\nimport SuspenedPage from 'components/SuspenedPage';\nimport {\n  Image,\n  Title,\n  SubTitle,\n  Paragraph,\n  Votes,\n  Item,\n  LinkBack,\n  Icon,\n} from './MovieDetails.styled';\n\nconst STATUS = {\n  idle: 0,\n  pending: 1,\n  resolved: 2,\n  rejected: 3,\n};\n\nconst MovieDetails = () => {\n  const BASE_URL = 'https://image.tmdb.org/t/p/w500';\n  const location = useLocation();\n  const backPath = useRef();\n\n  const { movieId } = useParams();\n  const [details, setDetails] = useState(null);\n  const [status, setStatus] = useState(STATUS.idle);\n\n  if (!backPath.current) {\n    backPath.current = location.state ? location.state.from : '/';\n  }\n\n  // -------------------------------------------------\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    async function getDetails() {\n      try {\n        setStatus(STATUS.pending);\n        const movieDetails = await getMovieDetails({ id: movieId, signal });\n        setDetails(movieDetails);\n        setStatus(STATUS.resolved);\n      } catch (error) {\n        setStatus(STATUS.rejected);\n        toast(error.message);\n      }\n    }\n    getDetails();\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  // -------------------------------------------------\n  if (!details) {\n    return;\n  }\n\n  // -------------------------------------------------\n  let genres = [];\n  if (details.genres) {\n    genres = details.genres.map(genre => genre.name).join(', ');\n  }\n\n  // -------------------------------------------------\n  const { poster_path, title, vote_average, overview } = details;\n  return (\n    <Box backgroundColor=\"bgMain\" minHeight=\"100vh\" as=\"main\">\n      <Box\n        width=\"container\"\n        marginLeft=\"auto\"\n        marginRight=\"auto\"\n        paddingTop={5}\n        paddingBottom={5}\n        paddingLeft={3}\n        paddingRight={3}\n      >\n        {status === STATUS.pending && <Loader />}\n        <LinkBack to={backPath.current}>\n          <Icon />\n        </LinkBack>\n\n        <Box display=\"grid\" gridTemplateColumns=\"1fr 2fr\" gridGap={6}>\n          <Image src={BASE_URL + poster_path} alt={`Poster ${title}`} />\n\n          <Box borderRadius=\"textBlock\" backgroundColor=\"bgAccent\" padding={6}>\n            <Title>{title}</Title>\n            <SubTitle>\n              User score:\n              <Votes>{vote_average.toFixed(1)}</Votes>\n            </SubTitle>\n            <SubTitle>Genres:</SubTitle>\n            <Paragraph>{genres}</Paragraph>\n            <SubTitle>Overview</SubTitle>\n            <Paragraph>{overview}</Paragraph>\n          </Box>\n\n          <Box\n            borderRadius=\"textBlock\"\n            backgroundColor=\"bgDark\"\n            padding={6}\n            height=\"menu\"\n          >\n            <ul>\n              <Item>\n                <Link to=\"cast\">Cast</Link>\n              </Item>\n              <Item>\n                <Link to=\"reviews\">Reviews</Link>\n              </Item>\n            </ul>\n          </Box>\n          <Suspense fallback={<SuspenedPage />}>\n            <Outlet />\n          </Suspense>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport { API_TOKEN, BASE_URL } from 'constants';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.headers.common['Authorization'] = `Bearer ${API_TOKEN}`;\n\n// -------------------------------------------------\nexport async function getMovieCast({ id, signal }) {\n  try {\n    const response = await axios.get(`movie/${id}/credits`, {\n      signal,\n    });\n    if (!response) {\n      throw Error('We are sorry! There is no cast information about the movie');\n    }\n\n    return response.data.cast;\n  } catch (error) {\n    if (error.name === 'CanceledError') {\n      return null;\n    }\n    if (error.response || error.request) {\n      throw Error('There is no server response. Try later again!');\n    } else {\n      throw error;\n    }\n  }\n}\n\n// -------------------------------------------------\nexport async function getMovieDetails({ id, signal }) {\n  try {\n    const response = await axios.get(`movie/${id}`, { signal });\n    if (!response) {\n      throw Error(\n        'We are sorry! There is no detailed information about the movie'\n      );\n    }\n\n    return response.data;\n  } catch (error) {\n    if (error.name === 'CanceledError') {\n      return null;\n    }\n    if (error.response || error.request) {\n      throw Error('There is no server response. Try later again!');\n    } else {\n      throw error;\n    }\n  }\n}\n\n// -------------------------------------------------\nexport async function getMovies({ page = 1, search = '', signal }) {\n  let params = {\n    page: page,\n    query: search,\n  };\n\n  try {\n    const response = await axios.get('search/movie', { params, signal });\n    if (response.data.results.length === 0) {\n      throw Error('There is no any match on your request!');\n    }\n\n    return response.data.results;\n  } catch (error) {\n    if (error.name === 'CanceledError') {\n      return [];\n    }\n    if (error.response || error.request) {\n      throw Error('There is no server response. Try later again!');\n    } else {\n      throw error;\n    }\n  }\n}\n\n// -------------------------------------------------\nexport async function getReviews({ id, signal }) {\n  try {\n    const response = await axios.get(`movie/${id}/reviews`, { signal });\n    if (!response) {\n      throw Error('There is no cast information about the movie');\n    }\n\n    return response.data.results;\n  } catch (error) {\n    if (error.name === 'CanceledError') {\n      return null;\n    }\n    if (error.response || error.request) {\n      throw Error('There is no server response. Try later again!');\n    } else {\n      throw error;\n    }\n  }\n}\n\n// -------------------------------------------------\nexport async function getTrendingMovies({ signal, page = 1 }) {\n  let params = {\n    page: page,\n  };\n\n  try {\n    const response = await axios.get('trending/movie/day', { params, signal });\n    if (response.data.results.length === 0) {\n      throw Error('There is no any match on your request!');\n    }\n\n    return response.data.results;\n  } catch (error) {\n    if (error.name === 'CanceledError') {\n      return [];\n    }\n    if (error.response || error.request) {\n      throw Error('There is no server response. Try later again!');\n    } else {\n      throw error;\n    }\n  }\n}\n"],"names":["Image","styled","p","theme","radii","textBlock","Title","space","colors","title","SubTitle","subTitle","Paragraph","fontSizes","text","Votes","primary","bgDark","Item","LinkBack","NavLink","Icon","ImArrowLeft2","sizes","backIcon","STATUS","location","useLocation","backPath","useRef","movieId","useParams","useState","details","setDetails","status","setStatus","current","state","from","useEffect","controller","AbortController","signal","getMovieDetails","id","movieDetails","toast","message","getDetails","abort","genres","map","genre","name","join","poster_path","vote_average","overview","Box","backgroundColor","minHeight","as","width","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight","Loader","to","display","gridTemplateColumns","gridGap","src","alt","borderRadius","padding","toFixed","height","Link","Suspense","fallback","SuspenedPage","getMovieCast","axios","response","Error","data","cast","request","getMovies","page","search","params","query","results","length","getReviews","getTrendingMovies","BASE_URL","API_TOKEN"],"sourceRoot":""}